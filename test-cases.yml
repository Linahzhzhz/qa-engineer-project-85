---
- summary: |
    Проверка успешной регистрации пользователя
  requirement: |
    Пользователь должен иметь возможность зарегистрироваться на сайте
  prerequisites:
    Открыта страница https://codebattle.hexlet.io/
  test-data: |
  Nickname = Test0000_
  Email = 12345@12345.ru
  Password = Password Confirmation = 0987654321
  steps:
    - Нажать кнопку Sign Up
    - Заполнить все поля
    - Нажать кнопку Submit
  expected-result: |
    Учетная запись успешно зарегистрирована, выполнен вход в учетную запись

- summary: |
    Проверка неуспешной регистрации пользователя
  requirement: |
    Поля Email, Password и Password Confirmation не могут быть пустыми
  prerequisites:
    Открыта страница https://codebattle.hexlet.io/
  test-data: |
  Nickname = Test0000000_
  steps:
    - Нажать кнопку Sign Up
    - Заполнить поле Nickname
    - Нажать кнопку Submit
  expected-result: |
    Регистрация не выполнена. Поля Email, Password, Confirmation подсвечены красным, ниже комменатрии о необходимости заполнить поле

- summary: |
    Проверка неуспешной регистрации пользователя
  requirement: |
    Поля Email, Password и Password Confirmation не могут быть пустыми
  prerequisites:
    Открыта страница https://codebattle.hexlet.io/
  test-data: |
   Nickname = Test0000_
   Email = 1234567@12345.ru
   Password = Password Confirmation = 0987654321
  steps:
    - Нажать кнопку Sign Up
    - Заполнить все поля
    - Нажать кнопку Submit
  expected-result: |
    Регистрация не выполнена. Поле Nickname подсвечено красным, ниже комменатрий о том, что имя уже занято

- summary: |
    Проверка успешной авторизации пользователя
  requirement: |
    Пользователь должен иметь возможность авторизоваться на сайте
  prerequisites:
    Открыта страница https://codebattle.hexlet.io/
  test-data: |
    Email = 12345@12345.ru
    Password = 0987654321
  steps:
    - Нажать кнопку Sign In
    - Заполнить все поля
    - Нажать кнопку Submit
  expected-result: |
    Выполнен вход в учетную запись

- summary: |
    Проверка неуспешной авторизации пользователя
  requirement: |
    Авторизация выполняется только в случае ввода логина и пароля существующей учетной записи
  prerequisites:
    Открыта страница https://codebattle.hexlet.io/
  test-data: |
    Email = 12345@12345.ru
    Password = 09876543210
  steps:
    - Нажать кнопку Sign In
    - Заполнить все поля
    - Нажать кнопку Submit
  expected-result: |
    Не выполнен вход в учетную запись, указан комментарий INVALID_PASSWORD

- summary: |
    Проверка возможности начать пробную игру без регистрации
  requirement: |
    Пользователь должен иметь возможность начать пробную игру без регистрации на сайте
  prerequisites:
    Открыта страница https://codebattle.hexlet.io/
  test-data: |
    no-data
  steps:
    Нажать кнопку TRY SIMPLE BATTLE
  expected-result: |
    Начата пробная игра с ботом

- summary: |
    Успешная отправка сообщения в общий чат игроков на главной странице авторизованным пользователем
  requirement: |
    В общем чате на главной странице можно написать сообщение на русском или английском языке всем
    пользователям или лично любому игроку, находящемуся онлайн
  prerequisites: |
    Пользователь авторизован
    Открыта страница https://codebattle.hexlet.io/
  test-data: |
    no-data
  steps:
    - Ввести любое слово/фразу в поле ввода сообщений в чат (наприер, привет)
    - Нажать  ‘Send’
  expected-result: |
    Отправленное сообщение отображается в общем чате

- summary: |
    Проверка успешного создания игры авторизированным пользователем
  requirement: |
    У пользователя должна быть возможность создать новую игру
  prerequisites:
    Пользователь авторизован
    Открыта страница https://codebattle.hexlet.io/#lobby
  test-data: |
    no-data
  steps:
    - Нажать кнопку Create a game
    - Выбрать уровень (например, 1)
    - Выбрать тип игры (наапример,  with a bot)
    - Установить значение таймера (например, 15 минут)
    - Выбрать из списка любую задачу (например, add_two_number)
    - Нажать кнопку Create battle
  expected-result: |
    Создана новая игра согласно заданным параметрам. На странице игры должны отображаться раздел с задачей, чат, редактор кода, а также поле, в котором отображается код соперника

- summary: |
    Проверка возможности сдаться во время игры
  requirement: |
    Во время игры должна быть доступна кнопка для возможности сдаться
  prerequisites:
    Пользователь авторизован
    Открыта страница игры
  test-data: |
    no-data
  steps:
    - Нажать кнопку с флагом
    - Нажать Give up
  expected-result: |
    Игра завершена проигрышем, всплывающим окном выведено сообщение If you read this you've lost the game

- summary: |
    Проверка завершения игры победой игрока
  requirement: |
    Во время игры должна быть доступна кнопка для проверки решения. В случае, если решение верное игра завершается победой игрока 
  prerequisites: |
    Пользователь авторизован
    Открыта страница https://codebattle.hexlet.io/#lobby
  test-data: |
    Язык программирования NodeJS
    Решение задачи
    const _ = require("lodash");
    const R = require("rambda");
    
    const solution = (width, length) => {
      return width * length;
    };
    
    module.exports = solution;
  steps:
    - Нажать кнопку Create a game
    - Выбрать уровень (например, 1)
    - Выбрать тип игры (наапример,  with a bot)
    - Установить значение таймера (например, 15 минут)
    - Выбрать из списка задачу rect_area
    - Нажать  кнопку Create battle
    - Вставить решение задачи в редактор кода
    - Нажать кнопку Run
  expected-result: |
    Игра завершена победой игрока. Появляется всплывающее окно с сообщением о победе

- summary: |
    Проверка возможности смены языка задачи
  requirement: |
    Пользователь должен иметь возможность изменить язык задачи (русский/английский)
  prerequisites:
    Пользователь авторизован
    Открыта страница игры
  test-data: |
    no-data
  steps:
    - Нажать кнопку переключения языка в блоке задачи
    - Выбрать другой язык
  expected-result: |
    Текст задачи отображается на выбранном языке

- summary: |
    Проверка возможности смены языка программирования во время игры
  requirement: |
    Во время игры у игрока дложна быть возможность изменить язык программирования
  prerequisites:
    Пользователь авторизован
    Открыта страница игры
  test-data: |
    no-data
  steps:
    - Нажать кнопку переключения языка программирования в блоке редактора кода
    - Выбрать любой другой язык
  expected-result: |
    Язык программирования изменен

- summary: |
    Проверка успешной работы гида в игре
  requirement: |
    Во время игры должна быть доступна кнопка Show guide, которая запускает обучающее окно, показывающее основные функции поля и кнопки страницы
  prerequisites: |
    Пользователь авторизован
    Открыта страница игры
  test-data: |
    no-data
  steps:
    - Нажать кнопку Show guide
    - В появившемся модальном окне гида нажать на кнопку Next на каждом шаге до закрытия окна
  expected-result: |
    Гид выделяет область/кнопку и дает их верное описание

- summary: |
    Проверка невозможности участия более чем в одной игре
  requirement: |
    Пользователь может принимать участие одновременно только в одной игре
  prerequisites:
    Пользователь авторизован
    Открыта страница https://codebattle.hexlet.io/
  test-data: |
    no-data
  steps:
    - Нажать кнопку Create a game
    - Выбрать тип игры With a bot
    - Create a battle
    - Нажать кнопку Back to home
    - Нажать кнопку Fight в разделе Лобби напротив любой игры с ботом 
  expected-result: |
    Вторая игра не начата, на странице возникла плашка с ошибкой already_in_a_game
    
